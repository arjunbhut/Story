{"version":3,"sources":["reducers/movie.js","reducers/index.js","api/index.js","actions/movie.js","components/Customer/Customer.js","App.js","index.js"],"names":["filtered_state","reducers","combineReducers","allSeller","state","type","payload","sn","mybool","map","s","index","id","movie","movieId","console","log","objIndex","findIndex","obj","filter","Filtered","n","name","v","value","el","rating","title","genres","tag","ImdbId","API","axios","create","baseURL","deleteFav","post","fetchData","dispatch","a","get","data","Customer","useDispatch","useState","setFilter","fav","setFav","setName","setValue","Movie_Details","useSelector","handleFavourite","e","preventDefault","fil","err","Add","handleReset","handleDeleteFavourite","api","useEffect","l","length","handleSubmit","searchBy","showFav","className","onSubmit","TextField","variant","label","color","onChange","target","Button","App","path","exact","component","store","createStore","compose","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.608a1679.chunk.js","sourcesContent":["\nvar filtered_state = [];\n\nexport const MovieReducer = (state = [], {type,payload}) =>{\n\n     \n\n      switch(type) {\n        case \"FETCH_ALL\":\n            state = [];\n            filtered_state = [...state,...payload];\n          return [...state,...payload];\n        case \"ADD\":\n          const sn = state[payload];\n          sn.mybool = 1;\n          return state.map((s,index) => (index === payload ? sn : s))\n        case \"FAV\":\n            state = [];\n          return [...state,...payload];\n        case \"NOFAV\":\n\n          const id = payload.movie.movieId;\n          console.log(id);\n          var objIndex = filtered_state.findIndex((obj) => obj.movieId == id )\n          filtered_state[objIndex].mybool = 0;\n          //console.log(m);\n          \n          console.log(filtered_state);\n\n          return state.filter((s,index) => index !== payload.index)\n       \n\n        default:\n          return state;\n\n      }\n\n}\n\nexport const Filtered = (state = [], {type,payload}) =>{\n\n  switch(type) {\n\n    case \"SEARCH_BY\":\n      const n = payload.name;\n     \n      const v = payload.value;\n      \n       state = filtered_state.filter(function (el){\n        \n          if(n==\"Rating\")\n          return el.rating == v;\n          else if(n== \"Title\")\n          return el.title == v;\n          else if(n== \"Genre\")\n          return el.genres == v;\n          else if(n == \"Tag\")\n          return el.tag == v;\n          else if(n == \"ImdbId\")\n          return el.ImdbId == v;\n        \n      })\n      // console.log(state);\n      // console.log(filtered_state);\n      return state;\n    \n    case \"ADD_FILTER\":\n        const sn = state[payload];\n        sn.mybool = 1;\n        console.log(sn);\n        return state.map((s,index) => (index === payload ? sn : s))\n    \n    case \"RESET\":\n      console.log(filtered_state);\n      state = [];\n      return [...state,...filtered_state];  \n\n    \n    default:\n      return state;\n\n  }\n  \n\n}","import { combineReducers} from 'redux';\n\nimport {MovieReducer,Filtered} from './movie.js';\n\n\nconst reducers = combineReducers({\n    allSeller : MovieReducer,\n    Filtered : Filtered,\n});\n\nexport default reducers;","import axios from 'axios';\n\nconst API = axios.create({ baseURL: 'https://storyexpress.herokuapp.com'});\n\nexport const fetchAllMovie = () => API.get('/movie/');\nexport const addToFavourite = (movie) => API.post('/movie/add',movie);\nexport const fetchFav = () => API.get('/movie/fetchFav');\nexport const deleteFav = (movie) => API.post('/movie/deleteFav',movie);","import * as api from '../api/index.js';\n\n\nexport const fetchData = async (dispatch) => {\n    try {\n        const {data} = await api.fetchAllMovie();\n        dispatch({type: \"FETCH_ALL\", payload: data});\n    }\n    catch (err) {\n        console.log(err);\n    }\n}\n\nexport const searchBy = (name,value) => async (dispatch) => {\n    try {\n\n            const data = {\n                name: name,\n                value : value\n            }\n\n            dispatch({type: 'SEARCH_BY', payload: data })\n    }\n    catch (err) {\n        console.log(err);\n    }\n}\n\nexport const Reset = () => async (dispatch) => {\n    try {\n            dispatch({type: 'RESET'})\n    }\n    catch (err) {\n        console.log(err);\n    }\n}\n\nexport const Add = (data,index,fil) => async (dispatch) => {\n    try {\n        console.log(fil);\n        api.addToFavourite(data);\n        if(fil)\n        {\n            dispatch({type: \"ADD_FILTER\", payload: index})\n        }\n        else\n            dispatch({type: 'ADD', payload: index})\n    }\n    catch (err) {\n        console.log(err);\n    }\n}\n\nexport const fetchFav = () => async (dispatch) => {\n    try{\n        const {data} = await api.fetchFav();\n        dispatch({type: \"FAV\", payload: data})\n    }\n    catch (err) {\n        console.log(err);\n    }\n}\n\nexport const deleteFav = (movie,index) => async (dispatch) => {\n    try {\n        api.deleteFav(movie);\n        dispatch({type: \"NOFAV\", payload: {index,movie}})\n    }\n    catch(err) {\n        console.log(err);\n    }\n}\n\n","import React,{useState,useEffect} from 'react'\nimport { useSelector,useDispatch } from 'react-redux';\nimport {fetchData,searchBy,Reset,Add,fetchFav,deleteFav} from '../../actions/movie.js';\nimport {TextField,Button} from '@material-ui/core';\n \n\nimport './Customer.css';\nconst Customer = () => {\n\n    const dispatch = useDispatch();\n    \n    const [filter,setFilter] = useState(false);\n    const [fav,setFav] = useState(false);\n    const [name,setName] = useState('');\n    const [value,setValue] = useState('');\n    \n    \n    var Movie_Details = useSelector((state) => filter ? state.Filtered : state.allSeller);\n    \n    \n    const handleFavourite = (e,movie,index) => {\n        e.preventDefault();\n        //console.log(movie);\n        dispatch(Add(movie,index,filter))\n       \n        \n    }\n\n    const handleReset = (e) => {\n        e.preventDefault(); \n        dispatch(Reset());\n        setFilter(true);\n        setFav(false);\n        \n    }\n\n    const handleDeleteFavourite = (e,movie,index) => {\n        e.preventDefault();\n        dispatch(deleteFav(movie,index));\n    }\n    \n    useEffect(() => {\n        dispatch(fetchData);\n        \n    },[]);\n\n    \n\n\n    const l = Movie_Details.length;\n    \n    const handleSubmit = (e) => {\n        e.preventDefault();\n        \n        dispatch(searchBy(name,value));\n        setFilter(true);\n        setFav(false);\n    }\n\n   \n\n    const showFav = (e) => {\n        e.preventDefault();\n        dispatch(fetchFav());\n        setFav(true);\n        setFilter(false);\n    }\n\n    \n    \n    return (\n\n        <div className='main_container'>\n            <form className='form_search' onSubmit={(e) => handleSubmit(e)}>\n                    <h3>Search By: </h3>\n                    \n                            <TextField name=\"name\" className=\"input\" variant=\"outlined\" label=\"Search By\"  color=\"primary\" onChange={(e) => setName(e.target.value)}/>\n                            <TextField name=\"value\" className=\"input\" variant=\"outlined\" label=\"Value\"  color=\"primary\" onChange={(e) => setValue(e.target.value)}/><br/>\n                            <Button type='submit' className=\"input\" variant=\"contained\" color=\"primary\">Submit</Button>\n            </form>\n        <div className= \"button_with_function\">\n            <form className='form' onSubmit={(e) => handleReset(e)}>\n                <Button type='submit' className=\"input\" variant=\"contained\" color=\"primary\">Reset Back to All the Values</Button>\n            </form>\n            <form className='form' onSubmit={(e) => showFav(e)}>\n                <Button type='submit' className=\"input\" variant=\"contained\" color=\"primary\">Show Favourites List</Button>\n            </form>\n        </div>\n\n               {l ? <div className='main_container'>\n                    \n                    \n                    <div className='details'>\n                     \n                    {Movie_Details.map((movie,index) => {\n                    \n                        return (<div key={movie.id} className='each'>\n                        <p>Title : {movie.title}</p>\n                        <p>Rating : {movie.rating}</p>\n                        <p>Tag : {movie.tag}</p>\n                        <p>Genre : {movie.genres}</p>\n                        <p>Imdb Id : {movie.ImdbId}</p>\n                        {fav ?   \n\n                            <form onSubmit={(e) => handleDeleteFavourite(e,movie,index)}>\n                            <Button type='submit' className=\"input\" variant=\"contained\" color=\"primary\">Click if you want to remove from favourite List</Button>\n                            </form>\n\n                            :\n\n                            <form onSubmit={(e) => handleFavourite(e,movie,index)}>\n                            <Button type='submit' className=\"input\" variant=\"contained\" color=\"primary\">{movie.mybool ? \"Added\" : \"Add to Favourite\"}</Button>\n                            </form>\n                        }\n                        \n                        \n                        </div>)\n                    })}\n                    </div>\n                 </div>\n                : \n                \n                fav ? <h2>Favourite List Does not contain any movies right now</h2> : <h1>Loading</h1>  \n                \n                \n                }  \n                 \n            \n        </div>\n    )\n}\n\nexport default Customer\n","import './App.css';\nimport {BrowserRouter,Route,Switch} from 'react-router-dom';\n\nimport Customer from './components/Customer/Customer.js';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n\n    \n\n    <Switch>\n      \n      <Route path='/' exact component={Customer}/> \n    </Switch>\n\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport { createStore,applyMiddleware, compose} from 'redux';\nimport thunk from 'redux-thunk';\nimport  './index.css';\nimport  reducers  from './reducers/index.js'\n\nimport App from './App';\n\nconst store = createStore(reducers, compose(applyMiddleware(thunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}